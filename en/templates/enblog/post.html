<!DOCTYPE html>
<html lang='eng'>
<head>
    {% load static %}
    <title> {{object.title}} | Marcelo Cardoso </title>
    <meta charset='utf8'/>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' href="{% static 'blog/css/main_post.css'%}"/>
    <link rel='shortcut icon' type='image/png' href='/static/home/img/m.jpg' sizes='32x32'/>
    <script src='https://code.jquery.com/jquery-3.3.1.min.js' integrity='sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=' crossorigin='anonymous'></script>
    <script id="dsq-count-scr" src="//marcelo-page.disqus.com/count.js" async></script>
    <script>
        $(document).ready(function() {
            $.fn.bodyFadeOut = function() {
			    var body = $('body');
    			body.css('animation-name', 'fadeOut');
	        	body.css('animation-duration', '200ms');
    	        body.css('animation-timing-function', 'ease-in-out');
        	    body.css('animation-iteration-count', '1');
        		body.css('animation-fill-mode', 'forwards');
                body.css('animation-play-state', 'running');
		    };
        });

        $(document).ready(function() { 
            var blogButton = $('#blog-button');
            var toggleContainer = $('#toggle-container');
            var lastScroll = 0;

            blogButton.click(function() {
                $.fn.bodyFadeOut();
                setTimeout(function() {
					window.location.href='/en/blog/'},
				200);
            });

            $(document).scroll(function() {
                var currentScroll = $(this).scrollTop();
                if (currentScroll > lastScroll) {
                    toggleContainer.css('padding', '25px 30px');
                } else { 
                    toggleContainer.css('padding', '30px');
                }
                lastScroll = currentScroll;  
            });
        }); 
    </script>
</head>

<body id='top'>    
    <div id='toggle-sidebar-wrapper'>
        <div id='toggle-wrapper'>
            <div id='toggle-container'>
                <a class='button' id='blog-button' aria-hidden='true'><</a>
            </div>
        </div>
    </div>

    <div id='essay-wrapper'>
        <div id='essay-header'>
            <h2 class='essay-title'><a name='published-essay' id='{{object.id}}'>{{object.title}}</a></h2>
            <div class='essay-date'>
                {{ object.date|date:"M d, Y" }}
            </div>
        </div>
        <div class='essay'>{{ object.body|safe|linebreaks }}</div>
        <div class='mona-lisa'>
        {% if object.image.url != None %}
            <a><img src="{{ object.image.url }}"></a>
        {% endif %}
        </div>
        <div id='disqus_thread'></div>
        <script>
            var disqus_config = function () {
                this.page.url = 'https://marcelo.page/en/blog/{{object.id}}';
                this.page.identifier = '{{object.id}}';
                this.page.title = '{{object.title}}';
            };

            (function() {
                var d = document, s = d.createElement('script');
                s.src = 'https://marcelo-page.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</body>
</html>

